{"version":3,"sources":["webpack://slidetoggle/webpack/universalModuleDefinition","webpack://slidetoggle/webpack/bootstrap","webpack://slidetoggle/webpack/runtime/define property getters","webpack://slidetoggle/webpack/runtime/hasOwnProperty shorthand","webpack://slidetoggle/webpack/runtime/make namespace object","webpack://slidetoggle/./src/lib/dtos.ts","webpack://slidetoggle/./src/lib/slideDown.ts","webpack://slidetoggle/./src/lib/slideUp.ts","webpack://slidetoggle/./src/lib/builder.ts","webpack://slidetoggle/./src/lib/elProps.ts","webpack://slidetoggle/./src/lib/slideToggle.ts"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","attrData","slideDown","sliding","el","originalProps","timingFn","requestAnimationFrame","timestamp","rafFn","clone","SlideDown","startTime","initFn","runTime","progress","Math","min","style","height","toFixed","paddingTop","paddingBottom","animationDone","setAttribute","borderTopWidth","borderTop","borderBottomWidth","borderBottom","slideUp","SlideUp","max","display","builder","prototypeMap","up","down","createPrototype","elProps","getElProps","computedValue","window","getComputedStyle","parseInt","getOriginalProps","changeElStyles","border","padding","visibility","styles","slideToggle","currentEl","getElement","isElementSliding","setElRequiredDataAndChangeAttr","props","getPrototypOfStrategy","elData","document","querySelector","hasAttribute","getAttribute","overflowY"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAqB,YAAID,IAEzBD,EAAkB,YAAIC,IARxB,CASGK,MAAM,WACT,M,mBCTA,IAAIC,EAAsB,CCA1B,EAAwB,CAACL,EAASM,KACjC,IAAI,IAAIC,KAAOD,EACXD,EAAoBG,EAAEF,EAAYC,KAASF,EAAoBG,EAAER,EAASO,IAC5EE,OAAOC,eAAeV,EAASO,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3E,EAAwB,CAACM,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClF,EAAyBd,IACH,oBAAXkB,QAA0BA,OAAOC,aAC1CV,OAAOC,eAAeV,EAASkB,OAAOC,YAAa,CAAEC,MAAO,WAE7DX,OAAOC,eAAeV,EAAS,aAAc,CAAEoB,OAAO,M,uCCWhD,IAAMC,EAAW,mBCwCXC,EAAY,IAvDzB,yBAqDA,OAlDE,YAAAC,QAAA,SAAQC,EAAiBC,EAA2BC,GAApD,WACEC,uBAAsB,SAAAC,GACpB,SAAKC,MAAMD,EAAWJ,EAAIC,EAAeC,OAI7C,YAAAI,MAAA,WACE,OAAO,IAAIC,GAGL,YAAAF,MAAR,SACED,EACAJ,EACAC,EACAC,GAJF,WAMOtB,KAAK4B,WAAW5B,KAAK6B,OAAOL,EAAWH,EAAeD,GAE3D,IAAMU,EAAUN,EAAYxB,KAAK4B,UAC3BG,EAAWC,KAAKC,IAAIH,EAAUR,EAAU,GAE9CF,EAAGc,MAAMC,QAAUd,EAAcc,OAASJ,GAAUK,QAAQ,GAAK,KAC7Df,EAAcgB,aAChBjB,EAAGc,MAAMG,YACNhB,EAAcgB,WAAaN,GAAUK,QAAQ,GAAK,MACnDf,EAAciB,gBAChBlB,EAAGc,MAAMI,eACNjB,EAAciB,cAAgBP,GAAUK,QAAQ,GAAK,MAEtDN,EAAUR,EACZC,uBAAsB,SAAAC,GACpB,SAAKC,MAAMD,EAAWJ,EAAIC,EAAeC,MAExCtB,KAAKuC,cAAcnB,IAGlB,YAAAmB,cAAR,SAAsBnB,GACpBpB,KAAK4B,UAAY,EACjBR,EAAGoB,aAAavB,EAAU,UAGpB,YAAAY,OAAR,SACEL,EACAH,EACAD,GAEApB,KAAK4B,UAAYJ,EACjBJ,EAAGc,MAAMO,eAAiBpB,EAAcqB,UAAY,KACpDtB,EAAGc,MAAMS,kBAAoBtB,EAAcuB,aAAe,MAE9D,EArDA,ICqDaC,EAAU,IApDvB,yBAkDA,OA/CE,YAAA1B,QAAA,SAAQC,EAAiBC,EAA2BC,GAApD,WACEC,uBAAsB,SAAAC,GACpB,SAAKC,MAAMD,EAAWJ,EAAIC,EAAeC,OAI7C,YAAAI,MAAA,WACE,OAAO,IAAIoB,GAGL,YAAArB,MAAR,SACED,EACAJ,EACAC,EACAC,GAJF,WAMOtB,KAAK4B,WAAW5B,KAAK6B,OAAOL,GAEjC,IAAMM,EAAUN,EAAYxB,KAAK4B,UAC3BG,EAAWC,KAAKe,IAAI,EAAIjB,EAAUR,EAAU,GAElDF,EAAGc,MAAMC,QAAUd,EAAcc,OAASJ,GAAUK,QAAQ,GAAK,KAC7Df,EAAcgB,aAChBjB,EAAGc,MAAMG,YACNhB,EAAcgB,WAAaN,GAAUK,QAAQ,GAAK,MACnDf,EAAciB,gBAChBlB,EAAGc,MAAMI,eACNjB,EAAciB,cAAgBP,GAAUK,QAAQ,GAAK,MAEtDN,EAAUR,EACZC,uBAAsB,SAAAC,GACpB,SAAKC,MAAMD,EAAWJ,EAAIC,EAAeC,MAExCtB,KAAKuC,cAAcnB,EAAIC,IAGtB,YAAAQ,OAAR,SAAeL,GACbxB,KAAK4B,UAAYJ,GAGX,YAAAe,cAAR,SAAsBnB,EAAiBC,GACrCD,EAAGc,MAAMc,QAAU,OACnB5B,EAAGc,MAAMO,eAAiBpB,EAAcqB,UAAY,KACpDtB,EAAGc,MAAMS,kBAAoBtB,EAAcuB,aAAe,KAC1D5C,KAAK4B,UAAY,EACjBR,EAAGoB,aAAavB,EAAU,UAE9B,EAlDA,ICeagC,EAAU,IAbvB,WAGE,aAFQ,KAAAC,aAAqD,GAG3DlD,KAAKkD,aAAaC,GAAKN,EACvB7C,KAAKkD,aAAaE,KAAOlC,EAM7B,OAHE,YAAAmC,gBAAA,SAAgBlD,GACd,OAAOH,KAAKkD,aAAa/C,GAAKuB,SAElC,EAXA,IC2Ca4B,EAAU,IA9CvB,yBA4CA,OA3CS,YAAAC,WAAP,SAAkBnC,GAChB,IAAMoC,EAAgBC,OAAOC,iBAAiBtC,GAC9C,MAAO,CACLe,OAAQwB,SAASH,EAAcrB,QAAU,KACzCE,WAAYsB,SAASH,EAAcnB,YAAc,KACjDC,cAAeqB,SAASH,EAAclB,eAAiB,KACvDI,UAAWiB,SAASH,EAAcf,gBAAkB,KACpDG,aAAce,SAASH,EAAcb,mBAAqB,OAIvD,YAAAiB,iBAAP,SAAwBxC,GACtBpB,KAAK6D,eAAezC,EAAI,CACtB0C,OAAQ,GACRC,QAAS,GACT5B,OAAQ,OACR6B,WAAY,WAEd,IAAM3C,EAAgBrB,KAAKuD,WAAWnC,GAOtC,OANApB,KAAK6D,eAAezC,EAAI,CACtB0C,OAAQ,MACRC,QAAS,MACT5B,OAAQ,IACR6B,WAAY,YAEP3C,GAGD,YAAAwC,eAAR,SACEzC,EACA6C,GAOA7C,EAAGc,MAAMS,kBAAoBvB,EAAGc,MAAMO,eAAiBwB,EAAOH,OAC9D1C,EAAGc,MAAMI,cAAgBlB,EAAGc,MAAMG,WAAa4B,EAAOF,QACtD3C,EAAGc,MAAM8B,WAAaC,EAAOD,WAC7B5C,EAAGc,MAAMC,OAAS8B,EAAO9B,OACzBf,EAAGc,MAAMc,QAAU,SAEvB,EA5CA,ICwCakB,EAAc,IArC3B,yBAmCA,OAlCS,YAAAA,YAAP,SAAmB9C,EAA0BE,QAAA,IAAAA,MAAA,KAC3C,IAAM6C,EAAyBnE,KAAKoE,WAAWhD,GAE/C,IAAIpB,KAAKqE,iBAAiBF,GAA1B,CACAnE,KAAKsE,+BAA+BH,GAEpC,IAAMI,EAAQjB,EAAQC,WAAWY,GACjCnE,KAAKwE,sBAAsBD,EAAMpC,QAAQhB,QACvCgD,EACAI,EAAMpC,OAASoC,EAAQjB,EAAQM,iBAAiBO,GAChD7C,KAII,YAAA8C,WAAR,SAAmBK,GACjB,MAAyB,iBAAXA,EACGC,SAASC,cAAcF,GACpCA,GAGE,YAAAD,sBAAR,SAA8BrC,GAC5B,OAAOc,EAAQI,gBAAgBlB,EAAS,KAAO,SAGzC,YAAAkC,iBAAR,SAAyBjD,GACvB,OAAOA,EAAGwD,aAAa3D,IAA2C,SAA9BG,EAAGyD,aAAa5D,IAG9C,YAAAqD,+BAAR,SAAuClD,GACrCA,EAAGc,MAAM4C,UAAY,SAEI,UADQ1D,EAAGyD,aAAa5D,IAAa,IAC7BG,EAAGoB,aAAavB,EAAU,SACtDG,EAAGoB,aAAavB,EAAU,SAEnC,EAnCA,I","file":"slidetoggle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"slidetoggle\"] = factory();\n\telse\n\t\troot[\"slidetoggle\"] = factory();\n})(this, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export interface SlideProps {\n  height: number;\n  paddingTop: number;\n  paddingBottom: number;\n  borderTop: number;\n  borderBottom: number;\n}\n\nexport interface Slide {\n  sliding(el: HTMLElement, originalProps: SlideProps, timingFn: number): void;\n}\n\nexport interface Prototype {\n  clone(): Prototype & Slide;\n}\n\nexport const attrData = 'data-slidetoggle';\n","import { Slide, Prototype, SlideProps, attrData } from './dtos';\nexport class SlideDown implements Slide, Prototype {\n  private startTime: number;\n\n  sliding(el: HTMLElement, originalProps: SlideProps, timingFn: number): void {\n    requestAnimationFrame(timestamp =>\n      this.rafFn(timestamp, el, originalProps, timingFn)\n    );\n  }\n\n  clone(): Prototype & Slide {\n    return new SlideDown();\n  }\n\n  private rafFn(\n    timestamp: number,\n    el: HTMLElement,\n    originalProps: SlideProps,\n    timingFn: number\n  ): void {\n    if (!this.startTime) this.initFn(timestamp, originalProps, el);\n\n    const runTime = timestamp - this.startTime;\n    const progress = Math.min(runTime / timingFn, 1);\n\n    el.style.height = (originalProps.height * progress).toFixed(2) + 'px';\n    if (originalProps.paddingTop)\n      el.style.paddingTop =\n        (originalProps.paddingTop * progress).toFixed(2) + 'px';\n    if (originalProps.paddingBottom)\n      el.style.paddingBottom =\n        (originalProps.paddingBottom * progress).toFixed(2) + 'px';\n\n    if (runTime < timingFn)\n      requestAnimationFrame(timestamp =>\n        this.rafFn(timestamp, el, originalProps, timingFn)\n      );\n    else this.animationDone(el);\n  }\n\n  private animationDone(el: HTMLElement): void {\n    this.startTime = 0;\n    el.setAttribute(attrData, 'false');\n  }\n\n  private initFn(\n    timestamp: number,\n    originalProps: SlideProps,\n    el: HTMLElement\n  ): void {\n    this.startTime = timestamp;\n    el.style.borderTopWidth = originalProps.borderTop + 'px';\n    el.style.borderBottomWidth = originalProps.borderBottom + 'px';\n  }\n}\n\nexport const slideDown = new SlideDown();\n","import { Slide, Prototype, SlideProps, attrData } from './dtos';\n\nexport class SlideUp implements Slide, Prototype {\n  private startTime: number;\n\n  sliding(el: HTMLElement, originalProps: SlideProps, timingFn: number): void {\n    requestAnimationFrame(timestamp =>\n      this.rafFn(timestamp, el, originalProps, timingFn)\n    );\n  }\n\n  clone(): Prototype & Slide {\n    return new SlideUp();\n  }\n\n  private rafFn(\n    timestamp: number,\n    el: HTMLElement,\n    originalProps: SlideProps,\n    timingFn: number\n  ): void {\n    if (!this.startTime) this.initFn(timestamp);\n\n    const runTime = timestamp - this.startTime;\n    const progress = Math.max(1 - runTime / timingFn, 0);\n\n    el.style.height = (originalProps.height * progress).toFixed(2) + 'px';\n    if (originalProps.paddingTop)\n      el.style.paddingTop =\n        (originalProps.paddingTop * progress).toFixed(2) + 'px';\n    if (originalProps.paddingBottom)\n      el.style.paddingBottom =\n        (originalProps.paddingBottom * progress).toFixed(2) + 'px';\n\n    if (runTime < timingFn)\n      requestAnimationFrame(timestamp =>\n        this.rafFn(timestamp, el, originalProps, timingFn)\n      );\n    else this.animationDone(el, originalProps);\n  }\n\n  private initFn(timestamp: number): void {\n    this.startTime = timestamp;\n  }\n\n  private animationDone(el: HTMLElement, originalProps: SlideProps) {\n    el.style.display = 'none';\n    el.style.borderTopWidth = originalProps.borderTop + 'px';\n    el.style.borderBottomWidth = originalProps.borderBottom + 'px';\n    this.startTime = 0;\n    el.setAttribute(attrData, 'false');\n  }\n}\n\nexport const slideUp = new SlideUp();\n","import { Prototype, Slide } from './dtos';\nimport { slideDown } from './slideDown';\nimport { slideUp } from './slideUp';\n\nexport class Builder {\n  private prototypeMap: { [key: string]: Prototype & Slide } = {};\n\n  constructor() {\n    this.prototypeMap.up = slideUp;\n    this.prototypeMap.down = slideDown;\n  }\n\n  createPrototype(key: 'up' | 'down'): Prototype & Slide {\n    return this.prototypeMap[key].clone();\n  }\n}\n\nexport const builder = new Builder();\n","import { SlideProps } from './dtos';\nexport class ElProps {\n  public getElProps(el: HTMLElement): SlideProps {\n    const computedValue = window.getComputedStyle(el);\n    return {\n      height: parseInt(computedValue.height || '0'),\n      paddingTop: parseInt(computedValue.paddingTop || '0'),\n      paddingBottom: parseInt(computedValue.paddingBottom || '0'),\n      borderTop: parseInt(computedValue.borderTopWidth || '0'),\n      borderBottom: parseInt(computedValue.borderBottomWidth || '0'),\n    };\n  }\n\n  public getOriginalProps(el: HTMLElement): SlideProps {\n    this.changeElStyles(el, {\n      border: '',\n      padding: '',\n      height: 'auto',\n      visibility: 'hidden',\n    });\n    const originalProps = this.getElProps(el);\n    this.changeElStyles(el, {\n      border: '0px',\n      padding: '0px',\n      height: '0',\n      visibility: 'visible',\n    });\n    return originalProps;\n  }\n\n  private changeElStyles(\n    el: HTMLElement,\n    styles: {\n      border: string;\n      padding: string;\n      height: string;\n      visibility: 'visible' | 'hidden';\n    }\n  ) {\n    el.style.borderBottomWidth = el.style.borderTopWidth = styles.border;\n    el.style.paddingBottom = el.style.paddingTop = styles.padding;\n    el.style.visibility = styles.visibility;\n    el.style.height = styles.height;\n    el.style.display = 'block';\n  }\n}\n\nexport const elProps = new ElProps();\n","import { builder } from './builder';\nimport { attrData, Prototype, Slide } from './dtos';\nimport { elProps } from './elProps';\n\nexport class SlideToggle {\n  public slideToggle(el: string | HTMLElement, timingFn = 500): void {\n    const currentEl: HTMLElement = this.getElement(el);\n\n    if (this.isElementSliding(currentEl)) return;\n    this.setElRequiredDataAndChangeAttr(currentEl);\n\n    const props = elProps.getElProps(currentEl);\n    this.getPrototypOfStrategy(props.height).sliding(\n      currentEl,\n      props.height ? props : elProps.getOriginalProps(currentEl),\n      timingFn\n    );\n  }\n\n  private getElement(elData: string | HTMLElement): HTMLElement {\n    return typeof elData === 'string'\n      ? <HTMLElement>document.querySelector(elData)\n      : elData;\n  }\n\n  private getPrototypOfStrategy(height: number): Prototype & Slide {\n    return builder.createPrototype(height ? 'up' : 'down');\n  }\n\n  private isElementSliding(el: HTMLElement): boolean {\n    return el.hasAttribute(attrData) && el.getAttribute(attrData) === 'true';\n  }\n\n  private setElRequiredDataAndChangeAttr(el: HTMLElement): void {\n    el.style.overflowY = 'hidden';\n    const currentAttrState: string = el.getAttribute(attrData) || '';\n    if (currentAttrState === 'true') el.setAttribute(attrData, 'false');\n    else el.setAttribute(attrData, 'true');\n  }\n}\n\nexport const slideToggle = new SlideToggle();\n"],"sourceRoot":""}